{
	"arch": "web",
  "impl": "mean",
  "servers": {
    "server": {
			"config": {
				"port": 8088
			},
			"routers": {
				"/": {
					"staticSite": {"string": "../client"}
				},
				"/vendor": {
					"staticSite": {"string": "../vendor"}
				},
				"/api": {
					"routers": {
						"/get": {
							"midwareLast": [
								{
									"var": "json",
									"init": {
										"readFile": "../workspace/yangold/disp.json"
									},
									"success": {
										"assign": "json",
										"init": {
											"jsonParse": {
												"replace": {"get": "json"},
												"regex": "\^\^=([^$]+)\$\$",
												"with": "{\"expr\":$1}"
											}
										}
									}
								},
								{
									"send": {"get": "json"}
								}
							]
						}
					}
				}
			}
    }
  },
	"clients": {
		"client": {
			"controllers": {
				"main": {
					"content": [
						{
							"reqop": {
								"url": "/api/get",
								"method": "get"								
							},
							"success": [
								{
									"scopeVar": "y",
									"init": {
										"get": "result"
									}
								},
								{
									"viewRefresh": 1
								}
							]
						}
					]
				}
			},
			"layout": [
				{
					"div": {
						"controller": "main"
					},
					"layout": {
						"div": {
							"id": "container",
							"style": {"heightpx": "800", "widthpx": "600"}
						},
						"layout": [
							{
								"jsonModifierView": {
									"class": {
										"treeDefault": 1
									},
									"model": "y"
								}
							},
							{
								"jsonDisplayView": {
									"hide":1,
									"model": "y"
								}
							},
							{
								"div": {
									"id": "nav",
									"style": {"height": 1, "width": 0.4, "color": "white"}
								}
							}
						]
					}
				}
			]

		}
	},
	"databases": {
		"db": {
			"mongodb": {}
		}
	}
}
